function hex_sha1(e){return binb2hex(core_sha1(str2binb(e),e.length*chrsz))}function b64_sha1(e){return binb2b64(core_sha1(str2binb(e),e.length*chrsz))}function str_sha1(e){return binb2str(core_sha1(str2binb(e),e.length*chrsz))}function hex_hmac_sha1(e,t){return binb2hex(core_hmac_sha1(e,t))}function b64_hmac_sha1(e,t){return binb2b64(core_hmac_sha1(e,t))}function str_hmac_sha1(e,t){return binb2str(core_hmac_sha1(e,t))}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc")}function core_sha1(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var n=Array(80),o=1732584193,r=-271733879,i=-1732584194,s=271733878,a=-1009589776,u=0;e.length>u;u+=16){for(var c=o,h=r,l=i,d=s,p=a,f=0;80>f;f++){n[f]=16>f?e[u+f]:rol(n[f-3]^n[f-8]^n[f-14]^n[f-16],1);var y=safe_add(safe_add(rol(o,5),sha1_ft(f,r,i,s)),safe_add(safe_add(a,n[f]),sha1_kt(f)));a=s,s=i,i=rol(r,30),r=o,o=y}o=safe_add(o,c),r=safe_add(r,h),i=safe_add(i,l),s=safe_add(s,d),a=safe_add(a,p)}return[o,r,i,s,a]}function sha1_ft(e,t,n,o){return 20>e?t&n|~t&o:40>e?t^n^o:60>e?t&n|t&o|n&o:t^n^o}function sha1_kt(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function core_hmac_sha1(e,t){var n=str2binb(e);n.length>16&&(n=core_sha1(n,e.length*chrsz));for(var o=Array(16),r=Array(16),i=0;16>i;i++)o[i]=909522486^n[i],r[i]=1549556828^n[i];var s=core_sha1(o.concat(str2binb(t)),512+t.length*chrsz);return core_sha1(r.concat(s),672)}function safe_add(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function rol(e,t){return e<<t|e>>>32-t}function str2binb(e){for(var t=[],n=(1<<chrsz)-1,o=0;e.length*chrsz>o;o+=chrsz)t[o>>5]|=(e.charCodeAt(o/chrsz)&n)<<32-chrsz-o%32;return t}function binb2str(e){for(var t="",n=(1<<chrsz)-1,o=0;32*e.length>o;o+=chrsz)t+=String.fromCharCode(e[o>>5]>>>32-chrsz-o%32&n);return t}function binb2hex(e){for(var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",o=0;4*e.length>o;o++)n+=t.charAt(15&e[o>>2]>>8*(3-o%4)+4)+t.charAt(15&e[o>>2]>>8*(3-o%4));return n}function binb2b64(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",o=0;4*e.length>o;o+=3)for(var r=(255&e[o>>2]>>8*(3-o%4))<<16|(255&e[o+1>>2]>>8*(3-(o+1)%4))<<8|255&e[o+2>>2]>>8*(3-(o+2)%4),i=0;4>i;i++)n+=8*o+6*i>32*e.length?b64pad:t.charAt(63&r>>6*(3-i));return n}(function(){var e="enyo.js";enyo=window.enyo||{},enyo.locateScript=function(e){for(var t,n,o=document.getElementsByTagName("script"),r=o.length-1,i=e.length;r>=0&&(t=o[r]);r--)if(!t.located&&(n=t.getAttribute("src")||"",n.slice(-i)==e))return t.located=!0,{path:n.slice(0,Math.max(0,n.lastIndexOf("/"))),node:t}},enyo.args=enyo.args||{};var t=enyo.locateScript(e);if(t){enyo.args.root=(enyo.args.root||t.path).replace("/source","");for(var n,o=0,r=t.node.attributes.length;r>o&&(n=t.node.attributes.item(o));o++)enyo.args[n.nodeName]=n.value}})(),function(){enyo=window.enyo||{},enyo.pathResolverFactory=function(){this.paths={}},enyo.pathResolverFactory.prototype={addPath:function(e,t){return this.paths[e]=t},addPaths:function(e){if(e)for(var t in e)this.addPath(t,e[t])},includeTrailingSlash:function(e){return e&&"/"!==e.slice(-1)?e+"/":e},rewritePattern:/\$([^\/\\]*)(\/)?/g,rewrite:function(e){var t,n=this.includeTrailingSlash,o=this.paths,r=function(e,r){return t=!0,n(o[r])||""},i=e;do t=!1,i=i.replace(this.rewritePattern,r);while(t);return i}},enyo.path=new enyo.pathResolverFactory,enyo.loaderFactory=function(e,t){this.machine=e,this.packages=[],this.modules=[],this.sheets=[],this.stack=[],this.pathResolver=t||enyo.path,this.packageName="",this.packageFolder="",this.finishCallbacks={}},enyo.loaderFactory.prototype={verbose:!1,loadScript:function(e){this.machine.script(e)},loadSheet:function(e){this.machine.sheet(e)},loadPackage:function(e){this.machine.script(e)},report:function(){},load:function(){this.more({index:0,depends:arguments||[]})},more:function(e){if(!e||!this.continueBlock(e)){var t=this.stack.pop();t?(this.verbose&&console.groupEnd("* finish package ("+(t.packageName||"anon")+")"),this.packageFolder=t.folder,this.packageName="",this.more(t)):this.finish()}},finish:function(){this.packageFolder="",this.verbose&&console.log("-------------- fini");for(var e in this.finishCallbacks)this.finishCallbacks[e]&&(this.finishCallbacks[e](),this.finishCallbacks[e]=null)},continueBlock:function(e){for(;e.index<e.depends.length;){var t=e.depends[e.index++];if(t)if("string"==typeof t){if(this.require(t,e))return!0}else this.pathResolver.addPaths(t)}},require:function(e,t){var n=this.pathResolver.rewrite(e),o=this.getPathPrefix(e);if(n=o+n,".css"==n.slice(-4)||".less"==n.slice(-5))this.verbose&&console.log("+ stylesheet: ["+o+"]["+e+"]"),this.requireStylesheet(n);else{if(".js"!=n.slice(-3)||"package.js"==n.slice(-10))return this.requirePackage(n,t),!0;this.verbose&&console.log("+ module: ["+o+"]["+e+"]"),this.requireScript(e,n)}},getPathPrefix:function(e){var t=e.slice(0,1);return"/"==t||"\\"==t||"$"==t||/^https?:/i.test(e)?"":this.packageFolder},requireStylesheet:function(e){this.sheets.push(e),this.loadSheet(e)},requireScript:function(e,t){this.modules.push({packageName:this.packageName,rawPath:e,path:t}),this.loadScript(t)},decodePackagePath:function(e){var t,n,o="",r="",i="",s="package.js",a=e.replace(/\\/g,"/").replace(/\/\//g,"/").replace(/:\//,"://").split("/");if(a.length){var u=a.pop()||a.pop()||"";for(u.slice(-s.length)!==s?a.push(u):s=u,i=a.join("/"),i=i?i+"/":"",s=i+s,t=a.length-1;t>=0;t--)if("source"==a[t]){a.splice(t,1);break}for(r=a.join("/"),t=a.length-1;n=a[t];t--)if("lib"==n||"enyo"==n){a=a.slice(t+1);break}for(t=a.length-1;n=a[t];t--)(".."==n||"."==n)&&a.splice(t,1);o=a.join("-")}return{alias:o,target:r,folder:i,manifest:s}},aliasPackage:function(e){var t=this.decodePackagePath(e);this.manifest=t.manifest,t.alias&&(this.pathResolver.addPath(t.alias,t.target),this.packageName=t.alias,this.packages.push({name:t.alias,folder:t.folder})),this.packageFolder=t.folder},requirePackage:function(e,t){t.folder=this.packageFolder,this.aliasPackage(e),t.packageName=this.packageName,this.stack.push(t),this.report("loading package",this.packageName),this.verbose&&console.group("* start package ["+this.packageName+"]"),this.loadPackage(this.manifest)}}}(),enyo.execUnsafeLocalFunction=function(e){"undefined"==typeof MSApp?e():MSApp.execUnsafeLocalFunction(e)},enyo.machine={sheet:function(e){var t="text/css",n="stylesheet",o=".less"==e.slice(-5);o&&(window.less?(t="text/less",n="stylesheet/less"):e=e.slice(0,e.length-4)+"css");var r;enyo.runtimeLoading||o?(r=document.createElement("link"),r.href=e,r.media="screen",r.rel=n,r.type=t,document.getElementsByTagName("head")[0].appendChild(r)):(r=function(){document.write('<link href="'+e+'" media="screen" rel="'+n+'" type="'+t+'" />')},enyo.execUnsafeLocalFunction(r)),o&&window.less&&(less.sheets.push(r),enyo.loader.finishCallbacks.lessRefresh||(enyo.loader.finishCallbacks.lessRefresh=function(){less.refresh(!0)}))},script:function(e,t,n){if(enyo.runtimeLoading){var o=document.createElement("script");o.src=e,o.onload=t,o.onerror=n,document.getElementsByTagName("head")[0].appendChild(o)}else document.write('<script src="'+e+'"'+(t?' onload="'+t+'"':"")+(n?' onerror="'+n+'"':"")+"></scri"+"pt>")},inject:function(e){document.write('<script type="text/javascript">'+e+"</scri"+"pt>")}},enyo.loader=new enyo.loaderFactory(enyo.machine),enyo.depends=function(){var e=enyo.loader;if(!e.packageFolder){var t=enyo.locateScript("package.js");t&&t.path&&(e.aliasPackage(t.path),e.packageFolder=t.path+"/")}e.load.apply(e,arguments)},function(){function e(o){if(o&&o(),n.length){var r=n.shift(),i=r[0],s=t.isArray(i)?i:[i],a=r[1];t.loader.finishCallbacks.runtimeLoader=function(){e(function(){a&&a(i)})},t.loader.packageFolder="./",t.depends.apply(this,s)}else t.runtimeLoading=!1,t.loader.packageFolder=""}var t=window.enyo,n=[];t.load=function(){n.push(arguments),t.runtimeLoading||(t.runtimeLoading=!0,e())}}(),enyo.path.addPaths({enyo:enyo.args.root,lib:"$enyo/../lib"}),enyo.logging={level:99,levels:{log:20,warn:10,error:0},shouldLog:function(e){var t=parseInt(this.levels[e],0);return this.level>=t},_log:function(e,t){if("undefined"!=typeof console){var n=enyo.isArray(t)?t:enyo.cloneArray(t);enyo.dumbConsole&&(n=[n.join(" ")]);var o=console[e];o&&o.apply?o.apply(console,n):console.log.apply?console.log.apply(console,n):console.log(n.join(" "))}},log:function(e,t){"undefined"!=typeof console&&this.shouldLog(e)&&this._log(e,t)}},enyo.setLogLevel=function(e){var t=parseInt(e,0);isFinite(t)&&(enyo.logging.level=t)},enyo.log=function(){enyo.logging.log("log",arguments)},enyo.warn=function(){enyo.logging.log("warn",arguments)},enyo.error=function(){enyo.logging.log("error",arguments)},function(){enyo.global=this,enyo._getProp=function(e,t,n){for(var o,r=n||enyo.global,i=0;r&&(o=e[i]);i++)r=o in r?r[o]:t?r[o]={}:void 0;return r},enyo.setObject=function(e,t,n){var o=e.split("."),r=o.pop(),i=enyo._getProp(o,!0,n);return i&&r?i[r]=t:void 0},enyo.getObject=function(e,t,n){return enyo._getProp(e.split("."),t,n)},enyo.irand=function(e){return Math.floor(Math.random()*e)},enyo.cap=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},enyo.uncap=function(e){return e.slice(0,1).toLowerCase()+e.slice(1)},enyo.format=function(e){var t=/\%./g,n=0,o=e,r=arguments,i=function(){return r[++n]};return o.replace(t,i)};var e=Object.prototype.toString;enyo.isString=function(t){return"[object String]"===e.call(t)},enyo.isFunction=function(t){return"[object Function]"===e.call(t)},enyo.isArray=Array.isArray||function(t){return"[object Array]"===e.call(t)},enyo.isTrue=function(e){return"false"!==e&&e!==!1&&0!==e&&null!==e&&void 0!==e},enyo.indexOf=function(e,t,n){if(t.indexOf)return t.indexOf(e,n);if(n&&(0>n&&(n=0),n>t.length))return-1;for(var o,r=n||0,i=t.length;(o=t[r])||i>r;r++)if(o==e)return r;return-1},enyo.remove=function(e,t){var n=enyo.indexOf(e,t);n>=0&&t.splice(n,1)},enyo.forEach=function(e,t,n){if(e){var o=n||this;if(enyo.isArray(e)&&e.forEach)e.forEach(t,o);else for(var r=Object(e),i=r.length>>>0,s=0;i>s;s++)s in r&&t.call(o,r[s],s,r)}},enyo.map=function(e,t,n){var o=n||this;if(enyo.isArray(e)&&e.map)return e.map(t,o);var r=[],i=function(e,n,i){r.push(t.call(o,e,n,i))};return enyo.forEach(e,i,o),r},enyo.filter=function(e,t,n){var o=n||this;if(enyo.isArray(e)&&e.filter)return e.filter(t,o);var r=[],i=function(e,n,i){var s=e;t.call(o,e,n,i)&&r.push(s)};return enyo.forEach(e,i,o),r},enyo.keys=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var o in e)n.call(e,o)&&t.push(o);if(!{toString:null}.propertyIsEnumerable("toString"))for(var r,i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=0;r=i[s];s++)n.call(e,r)&&t.push(r);return t},enyo.cloneArray=function(e,t,n){for(var o=n||[],r=t||0,i=e.length;i>r;r++)o.push(e[r]);return o},enyo.toArray=enyo.cloneArray,enyo.clone=function(e){return enyo.isArray(e)?enyo.cloneArray(e):enyo.mixin({},e)};var t={};enyo.mixin=function(e,n){if(e=e||{},n){var o,r;for(o in n)r=n[o],t[o]!==r&&(e[o]=r)}return e},enyo.bind=function(e,t){if(t||(t=e,e=null),e=e||enyo.global,enyo.isString(t)){if(!e[t])throw['enyo.bind: scope["',t,'"] is null (scope="',e,'")'].join("");t=e[t]}if(enyo.isFunction(t)){var n=enyo.cloneArray(arguments,2);return t.bind?t.bind.apply(t,[e].concat(n)):function(){var o=enyo.cloneArray(arguments);return t.apply(e,n.concat(o))}}throw['enyo.bind: scope["',t,'"] is not a function (scope="',e,'")'].join("")},enyo.asyncMethod=function(){return setTimeout(enyo.bind.apply(enyo,arguments),1)},enyo.call=function(e,t,n){var o=e||this;if(t){var r=o[t]||t;if(r&&r.apply)return r.apply(o,n||[])}},enyo.now=Date.now||function(){return(new Date).getTime()},enyo.nop=function(){},enyo.nob={},enyo.nar=[],enyo.instance=function(){},enyo.setPrototype||(enyo.setPrototype=function(e,t){e.prototype=t}),enyo.delegate=function(e){return enyo.setPrototype(enyo.instance,e),new enyo.instance},$L=function(e){return e}}(),enyo.job=function(e,t,n){enyo.job.stop(e),enyo.job._jobs[e]=setTimeout(function(){enyo.job.stop(e),t()},n)},enyo.job.stop=function(e){enyo.job._jobs[e]&&(clearTimeout(enyo.job._jobs[e]),delete enyo.job._jobs[e])},enyo.job._jobs={},enyo.macroize=function(e,t,n){var o,r,i=e,s=n||enyo.macroize.pattern,a=function(e,n){return o=enyo.getObject(n,!1,t),void 0===o||null===o?"{$"+n+"}":(r=!0,o)},u=0;do if(r=!1,i=i.replace(s,a),++u>=20)throw"enyo.macroize: recursion too deep";while(r);return i},enyo.quickMacroize=function(e,t,n){var o,r=e,i=n||enyo.macroize.pattern,s=function(e,n){return o=n in t?t[n]:enyo.getObject(n,!1,t),void 0===o||null===o?"{$"+n+"}":o};return r=r.replace(i,s)},enyo.macroize.pattern=/\{\$([^{}]*)\}/g,enyo.kind=function(e){enyo._kindCtors={};var t=e.name||"";delete e.name;var n="kind"in e,o=e.kind;delete e.kind;var r=enyo.constructorForKind(o),i=r&&r.prototype||null;if(n&&void 0===o||void 0===r){var s=void 0===o?"undefined kind":"unknown kind ("+o+")";throw"enyo.kind: Attempt to subclass an "+s+". Check dependencies for ["+(t||"<unnamed>")+"]."}var a=enyo.kind.makeCtor();return e.hasOwnProperty("constructor")&&(e._constructor=e.constructor,delete e.constructor),enyo.setPrototype(a,i?enyo.delegate(i):{}),enyo.mixin(a.prototype,e),a.prototype.kindName=t,a.prototype.base=r,a.prototype.ctor=a,enyo.forEach(enyo.kind.features,function(t){t(a,e)}),enyo.setObject(t,a),a},enyo.singleton=function(e,t){var n=e.name;delete e.name;var o=enyo.kind(e);enyo.setObject(n,new o,t)},enyo.kind.makeCtor=function(){return function(){if(!(this instanceof arguments.callee))throw"enyo.kind: constructor called directly, not using 'new'";var e;return this._constructor&&(e=this._constructor.apply(this,arguments)),this.constructed&&this.constructed.apply(this,arguments),e?e:void 0}},enyo.kind.defaultNamespace="enyo",enyo.kind.features=[],enyo.kind.features.push(function(e,t){var n=e.prototype;if(n.inherited||(n.inherited=enyo.kind.inherited),n.base)for(var o in t){var r=t[o];enyo.isFunction(r)&&(r._inherited=n.base.prototype[o]||enyo.nop,r.nom=n.kindName+"."+o+"()")}}),enyo.kind.inherited=function(e,t){return e.callee._inherited.apply(this,t||e)},enyo.kind.features.push(function(e,t){enyo.mixin(e,enyo.kind.statics),t.statics&&(enyo.mixin(e,t.statics),delete e.prototype.statics);for(var n=e.prototype.base;n;)n.subclass(e,t),n=n.prototype.base}),enyo.kind.statics={subclass:function(){},extend:function(e){enyo.mixin(this.prototype,e);var t=this;enyo.forEach(enyo.kind.features,function(n){n(t,e)})}},enyo._kindCtors={},enyo.constructorForKind=function(e){if(null===e||enyo.isFunction(e))return e;if(e){var t=enyo._kindCtors[e];return t?t:enyo._kindCtors[e]=enyo.Theme[e]||enyo[e]||enyo.getObject(e,!1,enyo)||window[e]||enyo.getObject(e)}return enyo.defaultCtor},enyo.Theme={},enyo.registerTheme=function(e){enyo.mixin(enyo.Theme,e)},enyo.kind({name:"enyo.Object",kind:null,constructor:function(){enyo._objectCount++},setPropertyValue:function(e,t,n){if(this[n]){var o=this[e];this[e]=t,this[n](o)}else this[e]=t},_setProperty:function(e,t,n){this.setPropertyValue(e,t,this.getProperty(e)!==t&&n)},destroyObject:function(e){this[e]&&this[e].destroy&&this[e].destroy(),this[e]=null},getProperty:function(e){var t="get"+enyo.cap(e);return this[t]?this[t]():this[e]},setProperty:function(e,t){var n="set"+enyo.cap(e);this[n]?this[n](t):this._setProperty(e,t,e+"Changed")},log:function(){var e=arguments.callee.caller,t=((e?e.nom:"")||"(instance method)")+":";enyo.logging.log("log",[t].concat(enyo.cloneArray(arguments)))},warn:function(){this._log("warn",arguments)},error:function(){this._log("error",arguments)},_log:function(e,t){if(enyo.logging.shouldLog(e))try{throw Error()}catch(n){enyo.logging._log(e,[t.callee.caller.nom+": "].concat(enyo.cloneArray(t))),enyo.log(n.stack)}}}),enyo._objectCount=0,enyo.Object.subclass=function(e,t){this.publish(e,t)},enyo.Object.publish=function(e,t){var n=t.published;if(n){var o=e.prototype;for(var r in n)enyo.Object.addGetterSetter(r,n[r],o)}},enyo.Object.addGetterSetter=function(e,t,n){var o=e;n[o]=t;var r=enyo.cap(o),i="get"+r;n[i]||(n[i]=function(){return this[o]});var s="set"+r,a=o+"Changed";n[s]||(n[s]=function(e){this._setProperty(o,e,a)})},enyo.kind({name:"enyo.Component",kind:enyo.Object,published:{name:"",id:"",owner:null},statics:{_kindPrefixi:{},_unnamedKindNumber:0},defaultKind:"Component",handlers:{},toString:function(){return this.kindName},constructor:function(){this._componentNameMap={},this.$={},this.inherited(arguments)},constructed:function(e){this.importProps(e),this.create()},importProps:function(e){if(e)for(var t in e)this[t]=e[t];this.handlers=enyo.mixin(enyo.clone(this.kindHandlers),this.handlers)},create:function(){this.ownerChanged(),this.initComponents()},initComponents:function(){this.createChrome(this.kindComponents),this.createClientComponents(this.components)},createChrome:function(e){this.createComponents(e,{isChrome:!0})},createClientComponents:function(e){this.createComponents(e,{owner:this.getInstanceOwner()})},getInstanceOwner:function(){return!this.owner||this.owner.notInstanceOwner?this:this.owner},destroy:function(){this.destroyComponents(),this.setOwner(null),this.destroyed=!0},destroyComponents:function(){enyo.forEach(this.getComponents(),function(e){e.destroyed||e.destroy()})},makeId:function(){var e="_",t=this.owner&&this.owner.getId(),n=this.name||"@@"+ ++enyo.Component._unnamedKindNumber;return(t?t+e:"")+n},ownerChanged:function(e){e&&e.removeComponent(this),this.owner&&this.owner.addComponent(this),this.id||(this.id=this.makeId())},nameComponent:function(e){var t,n=enyo.Component.prefixFromKindName(e.kindName),o=this._componentNameMap[n]||0;do t=n+(++o>1?o+"":"");while(this.$[t]);return this._componentNameMap[n]=Number(o),e.name=t},addComponent:function(e){var t=e.getName();t||(t=this.nameComponent(e)),this.$[t]&&this.warn('Duplicate component name "'+t+'" in owner "'+this.id+'" violates '+"unique-name-under-owner rule, replacing existing component in the hash and continuing, "+"but this is an error condition and should be fixed."),this.$[t]=e},removeComponent:function(e){delete this.$[e.getName()]},getComponents:function(){var e=[];for(var t in this.$)e.push(this.$[t]);return e},adjustComponentProps:function(e){this.defaultProps&&enyo.mixin(e,this.defaultProps),e.kind=e.kind||e.isa||this.defaultKind,e.owner=e.owner||this},_createComponent:function(e,t){if(!e.kind&&"kind"in e)throw"enyo.create: Attempt to create a null kind. Check dependencies for ["+e.name+"].";var n=enyo.mixin(enyo.clone(t),e);return this.adjustComponentProps(n),enyo.Component.create(n)},createComponent:function(e,t){return this._createComponent(e,t)},createComponents:function(e,t){if(e){for(var n,o=[],r=0;n=e[r];r++)o.push(this._createComponent(n,t));return o}},getBubbleTarget:function(){return this.owner},bubble:function(e,t,n){var o=t||{};return"originator"in o||(o.originator=n||this),this.dispatchBubble(e,o,n)},bubbleUp:function(e,t){var n=this.getBubbleTarget();return n?n.dispatchBubble(e,t,this):!1},dispatchEvent:function(e,t,n){return this.decorateEvent(e,t,n),this.handlers[e]&&this.dispatch(this.handlers[e],t,n)?!0:this[e]?this.bubbleDelegation(this.owner,this[e],e,t,this):void 0},dispatchBubble:function(e,t,n){return this.dispatchEvent(e,t,n)?!0:this.bubbleUp(e,t,n)},decorateEvent:function(){},bubbleDelegation:function(e,t,n,o,r){var i=this.getBubbleTarget();return i?i.delegateEvent(e,t,n,o,r):void 0},delegateEvent:function(e,t,n,o,r){return this.decorateEvent(n,o,r),e==this?this.dispatch(t,o,r):this.bubbleDelegation(e,t,n,o,r)},dispatch:function(e,t,n){var o=e&&this[e];return o?o.call(this,n||this,t):void 0},waterfall:function(e,t,n){return this.dispatchEvent(e,t,n)?!0:(this.waterfallDown(e,t,n||this),void 0)},waterfallDown:function(e,t,n){for(var o in this.$)this.$[o].waterfall(e,t,n)}}),enyo.defaultCtor=enyo.Component,enyo.create=enyo.Component.create=function(e){if(!e.kind&&"kind"in e)throw"enyo.create: Attempt to create a null kind. Check dependencies for ["+(e.name||"")+"].";var t=e.kind||e.isa||enyo.defaultCtor,n=enyo.constructorForKind(t);return n||(enyo.error('no constructor found for kind "'+t+'"'),n=enyo.Component),new n(e)},enyo.Component.subclass=function(e,t){var n=e.prototype;if(t.components&&(n.kindComponents=t.components,delete n.components),t.handlers){var o=n.kindHandlers;n.kindHandlers=enyo.mixin(enyo.clone(o),n.handlers),n.handlers=null}t.events&&this.publishEvents(e,t)},enyo.Component.publishEvents=function(e,t){var n=t.events;if(n){var o=e.prototype;for(var r in n)this.addEvent(r,n[r],o)}},enyo.Component.addEvent=function(e,t,n){var o,r;enyo.isString(t)?("on"!=e.slice(0,2)&&(enyo.warn("enyo.Component.addEvent: event names must start with 'on'. "+n.kindName+" event '"+e+"' was auto-corrected to 'on"+e+"'."),e="on"+e),o=t,r="do"+enyo.cap(e.slice(2))):(o=t.value,r=t.caller),n[e]=o,n[r]||(n[r]=function(t){return this.bubble(e,t)})},enyo.Component.prefixFromKindName=function(e){var t=enyo.Component._kindPrefixi[e];if(!t){var n=e.lastIndexOf(".");t=n>=0?e.slice(n+1):e,t=t.charAt(0).toLowerCase()+t.slice(1),enyo.Component._kindPrefixi[e]=t}return t},enyo.kind({name:"enyo.UiComponent",kind:enyo.Component,published:{container:null,parent:null,controlParentName:"client",layoutKind:""},handlers:{onresize:"resizeHandler"},addBefore:void 0,statics:{_resizeFlags:{showingOnly:!0}},create:function(){this.controls=[],this.children=[],this.containerChanged(),this.inherited(arguments),this.layoutKindChanged()},destroy:function(){this.destroyClientControls(),this.setContainer(null),this.inherited(arguments)},importProps:function(){this.inherited(arguments),this.owner||(this.owner=enyo.master)},createComponents:function(){var e=this.inherited(arguments);return this.discoverControlParent(),e},discoverControlParent:function(){this.controlParent=this.$[this.controlParentName]||this.controlParent},adjustComponentProps:function(e){e.container=e.container||this,this.inherited(arguments)},containerChanged:function(e){e&&e.removeControl(this),this.container&&this.container.addControl(this,this.addBefore)},parentChanged:function(e){e&&e!=this.parent&&e.removeChild(this)},isDescendantOf:function(e){for(var t=this;t&&t!=e;)t=t.parent;return e&&t==e},getControls:function(){return this.controls},getClientControls:function(){for(var e,t=[],n=0,o=this.controls;e=o[n];n++)e.isChrome||t.push(e);return t},destroyClientControls:function(){for(var e,t=this.getClientControls(),n=0;e=t[n];n++)e.destroy()},addControl:function(e,t){this.controls.push(e),this.addChild(e,t)},removeControl:function(e){return e.setParent(null),enyo.remove(e,this.controls)},indexOfControl:function(e){return enyo.indexOf(e,this.controls)},indexOfClientControl:function(e){return enyo.indexOf(e,this.getClientControls())},indexInContainer:function(){return this.container.indexOfControl(this)},clientIndexInContainer:function(){return this.container.indexOfClientControl(this)},controlAtIndex:function(e){return this.controls[e]},addChild:function(e,t){if(this.controlParent)this.controlParent.addChild(e);else if(e.setParent(this),void 0!==t){var n=null===t?0:this.indexOfChild(t);this.children.splice(n,0,e)}else this.children.push(e)},removeChild:function(e){return enyo.remove(e,this.children)},indexOfChild:function(e){return enyo.indexOf(e,this.children)},layoutKindChanged:function(){this.layout&&this.layout.destroy(),this.layout=enyo.createFromKind(this.layoutKind,this),this.generated&&this.render()},flow:function(){this.layout&&this.layout.flow()},reflow:function(){this.layout&&this.layout.reflow()},resized:function(){this.waterfall("onresize",enyo.UiComponent._resizeFlags),this.waterfall("onpostresize",enyo.UiComponent._resizeFlags)},resizeHandler:function(){this.reflow()},waterfallDown:function(e,t,n){for(var o in this.$)this.$[o]instanceof enyo.UiComponent||this.$[o].waterfall(e,t,n);for(var r,i=0,s=this.children;r=s[i];i++)(r.showing||!t||!t.showingOnly)&&r.waterfall(e,t,n)},getBubbleTarget:function(){return this.parent}}),enyo.createFromKind=function(e,t){var n=e&&enyo.constructorForKind(e);return n?new n(t):void 0},enyo.master=new enyo.Component({name:"master",notInstanceOwner:!0,eventFlags:{showingOnly:!0},getId:function(){return""},isDescendantOf:enyo.nop,bubble:function(e,t){"onresize"==e?(enyo.master.waterfallDown("onresize",this.eventFlags),enyo.master.waterfallDown("onpostresize",this.eventFlags)):enyo.Signals.send(e,t)}}),enyo.kind({name:"enyo.Layout",kind:null,layoutClass:"",constructor:function(e){this.container=e,e&&e.addClass(this.layoutClass)},destroy:function(){this.container&&this.container.removeClass(this.layoutClass)},flow:function(){},reflow:function(){}}),enyo.kind({name:"enyo.Signals",kind:enyo.Component,create:function(){this.inherited(arguments),enyo.Signals.addListener(this)},destroy:function(){enyo.Signals.removeListener(this),this.inherited(arguments)},notify:function(e,t){this.dispatchEvent(e,t)},statics:{listeners:[],addListener:function(e){this.listeners.push(e)},removeListener:function(e){enyo.remove(e,this.listeners)},send:function(e,t){enyo.forEach(this.listeners,function(n){n.notify(e,t)})}}}),enyo.kind({name:"enyo.Async",kind:enyo.Object,published:{timeout:0},failed:!1,context:null,constructor:function(){this.responders=[],this.errorHandlers=[]},accumulate:function(e,t){var n=2>t.length?t[0]:enyo.bind(t[0],t[1]);e.push(n)},response:function(){return this.accumulate(this.responders,arguments),this},error:function(){return this.accumulate(this.errorHandlers,arguments),this},route:function(e,t){var n=enyo.bind(this,"respond");e.response(function(e,t){n(t)});var o=enyo.bind(this,"fail");e.error(function(e,t){o(t)}),e.go(t)},handle:function(e,t){var n=t.shift();if(n)if(n instanceof enyo.Async)this.route(n,e);else{var o=enyo.call(this.context||this,n,[this,e]);o=void 0!==o?o:e,(this.failed?this.fail:this.respond).call(this,o)}},startTimer:function(){this.startTime=enyo.now(),this.timeout&&(this.timeoutJob=setTimeout(enyo.bind(this,"timeoutComplete"),this.timeout))},endTimer:function(){this.timeoutJob&&(this.endTime=enyo.now(),clearTimeout(this.timeoutJob),this.timeoutJob=null,this.latency=this.endTime-this.startTime)},timeoutComplete:function(){this.timedout=!0,this.fail("timeout")},respond:function(e){this.failed=!1,this.endTimer(),this.handle(e,this.responders)},fail:function(e){this.failed=!0,this.endTimer(),this.handle(e,this.errorHandlers)},recover:function(){this.failed=!1},go:function(e){return enyo.asyncMethod(this,function(){this.respond(e)}),this}}),enyo.json={stringify:function(e,t,n){return JSON.stringify(e,t,n)},parse:function(e,t){return e?JSON.parse(e,t):null}},enyo.getCookie=function(e){var t=document.cookie.match(RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},enyo.setCookie=function(e,t,n){var o=e+"="+encodeURIComponent(t),r=n||{},i=r.expires;if("number"==typeof i){var s=new Date;s.setTime(s.getTime()+1e3*60*60*24*i),i=s}i&&i.toUTCString&&(r.expires=i.toUTCString());var a,u;for(a in r)o+="; "+a,u=r[a],u!==!0&&(o+="="+u);document.cookie=o},enyo.xhr={request:function(e){var t=this.getXMLHttpRequest(e),n=enyo.path.rewrite(this.simplifyFileURL(e.url)),o=e.method||"GET",r=!e.sync;if(Math.random(),e.username?t.open(o,n,r,e.username,e.password):t.open(o,n,r),enyo.mixin(t,e.xhrFields),e.callback&&this.makeReadyStateHandler(t,e.callback),e.headers=e.headers||{},"GET"!==o&&enyo.platform.ios&&enyo.platform.ios>=6&&null!==e.headers["cache-control"]&&(e.headers["cache-control"]=e.headers["cache-control"]||"no-cache"),t.setRequestHeader)for(var i in e.headers)e.headers[i]&&t.setRequestHeader(i,e.headers[i]);return"function"==typeof t.overrideMimeType&&e.mimeType&&t.overrideMimeType(e.mimeType),t.send(e.body||null),!r&&e.callback&&t.onreadystatechange(t),t},cancel:function(e){e.onload&&(e.onload=null),e.onreadystatechange&&(e.onreadystatechange=null),e.abort&&e.abort()},makeReadyStateHandler:function(e,t){window.XDomainRequest&&e instanceof XDomainRequest&&(e.onload=function(){var n;"string"==typeof e.responseText&&(n=e.responseText),t.apply(null,[n,e])}),e.onreadystatechange=function(){if(4==e.readyState){var n;"string"==typeof e.responseText&&(n=e.responseText),t.apply(null,[n,e])}}},inOrigin:function(e){var t=document.createElement("a"),n=!1;return t.href=e,(":"===t.protocol||t.protocol===window.location.protocol&&t.hostname===window.location.hostname&&t.port===(window.location.port||("https:"===window.location.protocol?"443":"80")))&&(n=!0),n},simplifyFileURL:function(e){var t=document.createElement("a");return t.href=e,"file:"===t.protocol||":"===t.protocol&&"file:"===window.location.protocol?t.protocol+"//"+t.host+t.pathname:":"===t.protocol&&"x-wmapp0:"===window.location.protocol?window.location.protocol+"//"+window.location.pathname.split("/")[0]+"/"+t.host+t.pathname:e},getXMLHttpRequest:function(e){try{if(10>enyo.platform.ie&&window.XDomainRequest&&!e.headers&&!this.inOrigin(e.url)&&!/^file:\/\//.test(window.location.href))return new XDomainRequest}catch(t){}try{return new XMLHttpRequest}catch(t){}return null}},function(e){function t(){this.fake=!0,this._fields=[],this.boundary="--------------------------";for(var e=0;24>e;e++)this.boundary+=Math.floor(10*Math.random()).toString(16)}function n(e,t){if(this.name=t.name,this.type=t.type||"application/octet-stream",!enyo.isArray(e))throw Error("enyo.Blob only handles Arrays of Strings");if(e.length>0&&"string"!=typeof e[0])throw Error("enyo.Blob only handles Arrays of Strings");this._bufs=e}if(e.FormData)try{return new e.FormData,new e.Blob,enyo.FormData=e.FormData,enyo.Blob=e.Blob,void 0}catch(o){}t.prototype.getContentType=function(){return"multipart/form-data; boundary="+this.boundary},t.prototype.append=function(e,t,n){this._fields.push([e,t,n])},t.prototype.toString=function(){var e=this.boundary,t="";return enyo.forEach(this._fields,function(n){if(t+="--"+e+"\r\n",n[2]||n[1].name){var o=n[1],r=n[2]||o.name;t+='Content-Disposition: form-data; name="'+n[0]+'"; filename="'+r+'"\r\n',t+="Content-Type: "+o.type+"\r\n\r\n",t+=o.getAsBinary()+"\r\n"}else t+='Content-Disposition: form-data; name="'+n[0]+'";\r\n\r\n',t+=n[1]+"\r\n"}),t+="--"+e+"--"},enyo.FormData=t,n.prototype.getAsBinary=function(){var e="",t=e.concat.apply(e,this._bufs);return t},enyo.Blob=n}(window),enyo.AjaxProperties={cacheBust:!0,url:"",method:"GET",handleAs:"json",contentType:"application/x-www-form-urlencoded",sync:!1,headers:null,postBody:"",username:"",password:"",xhrFields:null,mimeType:null},enyo.kind({name:"enyo.Ajax",kind:enyo.Async,published:enyo.AjaxProperties,constructor:function(e){enyo.mixin(this,e),this.inherited(arguments)},go:function(e){return this.startTimer(),this.request(e),this},request:function(e){var t=this.url.split("?"),n=t.shift()||"",o=t.length?t.join("?").split("&"):[],r=null;enyo.isString(e)?r=e:e&&(r=enyo.Ajax.objectToQuery(e)),r&&(o.push(r),r=null),this.cacheBust&&o.push(Math.random());var i,s=o.length?[n,o.join("&")].join("?"):n,a={};"GET"!=this.method&&(i=this.postBody,"POST"===this.method&&i instanceof enyo.FormData?i.fake&&(a["Content-Type"]=i.getContentType(),i=""+i):(a["Content-Type"]=this.contentType,i instanceof Object&&(i="application/json"===this.contentType?JSON.stringify(i):"application/x-www-form-urlencoded"===this.contentType?enyo.Ajax.objectToQuery(i):""+i))),enyo.mixin(a,this.headers),0===enyo.keys(a).length&&(a=void 0);try{this.xhr=enyo.xhr.request({url:s,method:this.method,callback:enyo.bind(this,"receive"),body:i,headers:a,sync:window.PalmSystem?!1:this.sync,username:this.username,password:this.password,xhrFields:this.xhrFields,mimeType:this.mimeType})}catch(u){this.fail(u)}},receive:function(e,t){if(!this.failed&&!this.destroyed){var n;n="string"==typeof t.responseText?t.responseText:t.responseBody,this.xhrResponse={status:t.status,headers:enyo.Ajax.parseResponseHeaders(t),body:n},this.isFailure(t)?this.fail(t.status):this.respond(this.xhrToResponse(t))}},fail:function(){this.xhr&&(enyo.xhr.cancel(this.xhr),this.xhr=null),this.inherited(arguments)
},xhrToResponse:function(e){return e?this[(this.handleAs||"text")+"Handler"](e):void 0},isFailure:function(e){try{var t="";return"string"==typeof e.responseText&&(t=e.responseText),0===e.status&&""===t?!0:0!==e.status&&(200>e.status||e.status>=300)}catch(n){return!0}},xmlHandler:function(e){return e.responseXML},textHandler:function(e){return e.responseText},jsonHandler:function(e){var t=e.responseText;try{return t&&enyo.json.parse(t)}catch(n){return enyo.warn("Ajax request set to handleAs JSON but data was not in JSON format"),t}},statics:{objectToQuery:function(e){var t=encodeURIComponent,n=[],o={};for(var r in e){var i=e[r];if(i!=o[r]){var s=t(r)+"=";if(enyo.isArray(i))for(var a=0;i.length>a;a++)n.push(s+t(i[a]));else n.push(s+t(i))}}return n.join("&")},parseResponseHeaders:function(e){var t={},n=[];e.getAllResponseHeaders&&(n=e.getAllResponseHeaders().split(/\r?\n/));for(var o=0;n.length>o;o++){var r=n[o],i=r.indexOf(": ");if(i>0){var s=r.substring(0,i).toLowerCase(),a=r.substring(i+2);t[s]=a}}return t}}}),enyo.kind({name:"enyo.JsonpRequest",kind:enyo.Async,published:{url:"",charset:null,callbackName:"callback",cacheBust:!0},statics:{nextCallbackID:0},addScriptElement:function(){var e=document.createElement("script");e.src=this.src,e.async="async",this.charset&&(e.charset=this.charset),e.onerror=enyo.bind(this,function(){this.fail(400)});var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.scriptTag=e},removeScriptElement:function(){var e=this.scriptTag;this.scriptTag=null,e.onerror=null,e.parentNode&&e.parentNode.removeChild(e)},constructor:function(e){enyo.mixin(this,e),this.inherited(arguments)},go:function(e){return this.startTimer(),this.jsonp(e),this},jsonp:function(e){var t="enyo_jsonp_callback_"+enyo.JsonpRequest.nextCallbackID++;this.src=this.buildUrl(e,t),this.addScriptElement(),window[t]=enyo.bind(this,this.respond);var n=enyo.bind(this,function(){this.removeScriptElement(),window[t]=null});this.response(n),this.error(n)},buildUrl:function(e,t){var n=this.url.split("?"),o=n.shift()||"",r=n.join("?").split("&"),i=this.bodyArgsFromParams(e,t);return r.push(i),this.cacheBust&&r.push(Math.random()),[o,r.join("&")].join("?")},bodyArgsFromParams:function(e,t){if(enyo.isString(e))return e.replace("=?","="+t);var n=enyo.mixin({},e);return n[this.callbackName]=t,enyo.Ajax.objectToQuery(n)}}),enyo.kind({name:"enyo._AjaxComponent",kind:enyo.Component,published:enyo.AjaxProperties}),enyo.kind({name:"enyo.WebService",kind:enyo._AjaxComponent,published:{jsonp:!1,callbackName:"callback",charset:null,timeout:0},events:{onResponse:"",onError:""},constructor:function(){this.inherited(arguments)},send:function(e,t){return this.jsonp?this.sendJsonp(e,t):this.sendAjax(e,t)},sendJsonp:function(e,t){var n=new enyo.JsonpRequest;for(var o in{url:1,callbackName:1,charset:1,timeout:1})n[o]=this[o];return enyo.mixin(n,t),this.sendAsync(n,e)},sendAjax:function(e,t){var n=new enyo.Ajax(t);for(var o in enyo.AjaxProperties)n[o]=this[o];return n.timeout=this.timeout,enyo.mixin(n,t),this.sendAsync(n,e)},sendAsync:function(e,t){return e.go(t).response(this,"response").error(this,"error")},response:function(e,t){this.doResponse({ajax:e,data:t})},error:function(e,t){this.doError({ajax:e,data:t})}}),function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var o=e,r=[];if(n=n||o.length,t)for(var i=0;t>i;i++)r[i]=o[0|Math.random()*n];else{var s;r[8]=r[13]=r[18]=r[23]="-",r[14]="4";for(var i=0;36>i;i++)r[i]||(s=0|16*Math.random(),r[i]=o[19==i?8|3&s:s])}return r.join("")},Math.uuidFast=function(){for(var t,n=e,o=Array(36),r=0,i=0;36>i;i++)8==i||13==i||18==i||23==i?o[i]="-":14==i?o[i]="4":(2>=r&&(r=0|33554432+16777216*Math.random()),t=15&r,r>>=4,o[i]=n[19==i?8|3&t:t]);return o.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)}).toUpperCase()}}();var Crypto={};(function(){Crypto.MD5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,r,i,s;return r=2147483648&e,i=2147483648&t,n=1073741824&e,o=1073741824&t,s=(1073741823&e)+(1073741823&t),n&o?2147483648^s^r^i:n|o?1073741824&s?3221225472^s^r^i:1073741824^s^r^i:s^r^i}function o(e,t,n){return e&t|~e&n}function r(e,t,n){return e&n|t&~n}function i(e,t,n){return e^t^n}function s(e,t,n){return t^(e|~n)}function a(e,r,i,s,a,u,c){return e=n(e,n(n(o(r,i,s),a),c)),n(t(e,u),r)}function u(e,o,i,s,a,u,c){return e=n(e,n(n(r(o,i,s),a),c)),n(t(e,u),o)}function c(e,o,r,s,a,u,c){return e=n(e,n(n(i(o,r,s),a),c)),n(t(e,u),o)}function h(e,o,r,i,a,u,c){return e=n(e,n(n(s(o,r,i),a),c)),n(t(e,u),o)}function l(e){for(var t,n=e.length,o=n+8,r=(o-o%64)/64,i=16*(r+1),s=Array(i-1),a=0,u=0;n>u;)t=(u-u%4)/4,a=8*(u%4),s[t]=s[t]|e.charCodeAt(u)<<a,u++;return t=(u-u%4)/4,a=8*(u%4),s[t]=s[t]|128<<a,s[i-2]=n<<3,s[i-1]=n>>>29,s}function d(e){var t,n,o="",r="";for(n=0;3>=n;n++)t=255&e>>>8*n,r="0"+t.toString(16),o+=r.substr(r.length-2,2);return o}var p,f,y,v,m,g,b,w,_,k=[],C=7,D=12,x=17,T=22,S=5,j=9,A=14,O=20,E=4,R=11,q=16,B=23,I=6,P=10,F=15,N=21;for(k=l(e),g=1732584193,b=4023233417,w=2562383102,_=271733878,p=0;k.length>p;p+=16)f=g,y=b,v=w,m=_,g=a(g,b,w,_,k[p+0],C,3614090360),_=a(_,g,b,w,k[p+1],D,3905402710),w=a(w,_,g,b,k[p+2],x,606105819),b=a(b,w,_,g,k[p+3],T,3250441966),g=a(g,b,w,_,k[p+4],C,4118548399),_=a(_,g,b,w,k[p+5],D,1200080426),w=a(w,_,g,b,k[p+6],x,2821735955),b=a(b,w,_,g,k[p+7],T,4249261313),g=a(g,b,w,_,k[p+8],C,1770035416),_=a(_,g,b,w,k[p+9],D,2336552879),w=a(w,_,g,b,k[p+10],x,4294925233),b=a(b,w,_,g,k[p+11],T,2304563134),g=a(g,b,w,_,k[p+12],C,1804603682),_=a(_,g,b,w,k[p+13],D,4254626195),w=a(w,_,g,b,k[p+14],x,2792965006),b=a(b,w,_,g,k[p+15],T,1236535329),g=u(g,b,w,_,k[p+1],S,4129170786),_=u(_,g,b,w,k[p+6],j,3225465664),w=u(w,_,g,b,k[p+11],A,643717713),b=u(b,w,_,g,k[p+0],O,3921069994),g=u(g,b,w,_,k[p+5],S,3593408605),_=u(_,g,b,w,k[p+10],j,38016083),w=u(w,_,g,b,k[p+15],A,3634488961),b=u(b,w,_,g,k[p+4],O,3889429448),g=u(g,b,w,_,k[p+9],S,568446438),_=u(_,g,b,w,k[p+14],j,3275163606),w=u(w,_,g,b,k[p+3],A,4107603335),b=u(b,w,_,g,k[p+8],O,1163531501),g=u(g,b,w,_,k[p+13],S,2850285829),_=u(_,g,b,w,k[p+2],j,4243563512),w=u(w,_,g,b,k[p+7],A,1735328473),b=u(b,w,_,g,k[p+12],O,2368359562),g=c(g,b,w,_,k[p+5],E,4294588738),_=c(_,g,b,w,k[p+8],R,2272392833),w=c(w,_,g,b,k[p+11],q,1839030562),b=c(b,w,_,g,k[p+14],B,4259657740),g=c(g,b,w,_,k[p+1],E,2763975236),_=c(_,g,b,w,k[p+4],R,1272893353),w=c(w,_,g,b,k[p+7],q,4139469664),b=c(b,w,_,g,k[p+10],B,3200236656),g=c(g,b,w,_,k[p+13],E,681279174),_=c(_,g,b,w,k[p+0],R,3936430074),w=c(w,_,g,b,k[p+3],q,3572445317),b=c(b,w,_,g,k[p+6],B,76029189),g=c(g,b,w,_,k[p+9],E,3654602809),_=c(_,g,b,w,k[p+12],R,3873151461),w=c(w,_,g,b,k[p+15],q,530742520),b=c(b,w,_,g,k[p+2],B,3299628645),g=h(g,b,w,_,k[p+0],I,4096336452),_=h(_,g,b,w,k[p+7],P,1126891415),w=h(w,_,g,b,k[p+14],F,2878612391),b=h(b,w,_,g,k[p+5],N,4237533241),g=h(g,b,w,_,k[p+12],I,1700485571),_=h(_,g,b,w,k[p+3],P,2399980690),w=h(w,_,g,b,k[p+10],F,4293915773),b=h(b,w,_,g,k[p+1],N,2240044497),g=h(g,b,w,_,k[p+8],I,1873313359),_=h(_,g,b,w,k[p+15],P,4264355552),w=h(w,_,g,b,k[p+6],F,2734768916),b=h(b,w,_,g,k[p+13],N,1309151649),g=h(g,b,w,_,k[p+4],I,4149444226),_=h(_,g,b,w,k[p+11],P,3174756917),w=h(w,_,g,b,k[p+2],F,718787259),b=h(b,w,_,g,k[p+9],N,3951481745),g=n(g,f),b=n(b,y),w=n(w,v),_=n(_,m);var L=d(g)+d(b)+d(w)+d(_);return L.toLowerCase()}})();var hexcase=0,b64pad="=",chrsz=8;window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB,window.IDBCursor=window.IDBCursor||window.webkitIDBCursor,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction,IDBTransaction=IDBTransaction||{},IDBTransaction.READ_WRITE=IDBTransaction.READ_WRITE||"readwrite",IDBTransaction.READ=IDBTransaction.READ||"readonly",IDBCursor=IDBCursor||{},IDBCursor.NEXT=IDBCursor.NEXT||"next",IDBCursor.PREV=IDBCursor.PREV||"prev",enyo.kind({name:"DataLayout",kind:null,constructor:function(e){this.container=e,e},destroy:function(){this.container}}),enyo.kind({name:"SundayDataIDB",kind:"DataLayout",published:{database:"",dbcallback:{},needupgrade:!1},async:enyo.Async,components:[{kind:"Signals",onCommit:"commit"}],DOC_STORE:"doc-store",CONFIG_STORE:"config-store",idb:!1,viewfunctions:{},returnarray:{},commit:function(e,t){t.dispatchTarget},handleerror:function(e,t){0===e.responders.length?e.response(function(){return{ok:!1,error:{status:500,error:t.type,reason:t.target}}}):e.go({ok:!1,error:{status:500,error:t.type,reason:t.target}})},success:function(e){this.idb=e.target.result;var t=this.idb.transaction(this.DOC_STORE,IDBTransaction.READ),n=t.objectStore(this.DOC_STORE).openCursor();n.onsuccess=enyo.bind(this,this.viewresults),n.onerror=enyo.bind(this,this.handleerror)},viewresults:function(e){var t=e.target.result;if(t){var n={key:t.key,id:t.primaryKey,value:t.value},o=n.id.match(/^_design\/(.*)/);if(null!==o)for(var r in n.value.views)this.viewfunctions[o[1]+"_"+r]=n.value.views[r].map;t["continue"]()}else this.unrollpreque()},unrollpreque:function(){pq=this.preque;for(var e=pq.length,t=0;e>t;t++)"builkDocs"===pq[t].type?this.bulkDocs(pq[t].docs,pq[t].async):"allDocs"===pq[t].type?this.allDocs(pq[t].options,pq[t].async,pq[t].config):"put"===pq[t].type?this.put(pq[t].doc,pq[t].options,pq[t].async,pq[t].config):"get"===pq[t].type?this.get(pq[t].docid,pq[t].async,pq[t].config):"remove"===pq[t].type?this.remove(pq[t].docid,pq[t].localrev,pq[t].async,pq[t].config):"query"===pq[t].type&&this.remove(pq[t].fun,pq[t].options,pq[t].async);this.preque=[]},versioncomplete:function(){0===this.dbcallback.responders.length?this.dbcallback.response(function(){return{ok:!0}}):this.dbcallback.go({ok:!0})},versionsuccess:function(e,t){t.target.result.oncomplete=enyo.bind(this,this.versioncomplete),this.upgradeneeded(e)},upgradeneeded:function(e){var t=(e.target.result.createObjectStore(this.DOC_STORE,{keyPath:"_id"}),e.target.result.createObjectStore(this.CONFIG_STORE,{keyPath:"config"}),e.target.transaction.objectStore(this.DOC_STORE));t.createIndex("changes","_update_seq",{unique:!1})},constructor:function(e){this.inherited(arguments),this.preque=[],this.dbcallback=new enyo.Async,"string"==typeof e?e&&(this.database=e):void 0!==this.container.database&&(this.database=this.container.database);var t=indexedDB.open(this.database);t.onsuccess=enyo.bind(this,this.success),t.onerror=enyo.bind(this,this.handleerror,this.dbcallback),t.onupgradeneeded=enyo.bind(this,this.upgradeneeded),t.onblocked=function(){}},removeDB:function(e){this.idb.close();var t=enyo.global.indexedDB.deleteDatabase(this.database);return t.onsuccess=enyo.bind(this,this.removeDBsuccess,e),t.onerror=enyo.bind(this,this.handleerror,e),e},removeDBsuccess:function(e){0===e.responders.length?e.response(function(){return{ok:!0}}):e.go({ok:!0})},runview:function(view,funstring,docu){if(void 0!==docu){var emit=function(e,t){docu["_view_"+view]=e,docu["_view_"+view+"_value"]=t};eval("var fun = "+funstring),fun(docu),"_view_"+view in docu||(docu["_view_"+view]=null,docu["_view_"+view+"_value"]=null),async=new enyo.Async;var txn=this.idb.transaction(this.DOC_STORE,IDBTransaction.READ_WRITE),datastore=txn.objectStore(this.DOC_STORE).get(docu._id);datastore.onsuccess=enyo.bind(this,this.putupdate,async,docu,{}),datastore.onerror=enyo.bind(this,this.handleerror,async)}else{var async=new enyo.Async,parent=this;async.response(function(e,t){for(var n in t.rows){var o=t.rows[n].id.match(/^_design\/(.*)/);null===o&&parent.runview(view,funstring,t.rows[n].value)}}),this.allDocs({},async)}},upgradeneededview:function(e,t){var n=t.currentTarget.transaction.objectStore(this.DOC_STORE);for(var o in e)n.createIndex(e[o].replace("/","_"),"_view_"+e[o].replace("/","_"),{unique:!1})},putview:function(e,t,n){this.idb=n.target.result;var o=this.idb.transaction(this.DOC_STORE,IDBTransaction.READ_WRITE),r=o.objectStore(this.DOC_STORE).get(e._id);r.onsuccess=enyo.bind(this,this.putupdate,t,e,{}),r.onerror=enyo.bind(this,this.handleerror,t)},put:function(e,t,n,o){if(void 0===n&&(n=new enyo.Async),this.idb){var r=null;if(o||(void 0===e._id&&(e._id=Math.uuid(32,16).toLowerCase()),void 0===e._localrev&&(e._localrev="1-"+Math.uuid(32,16).toLowerCase()),r=e._id.match(/_design\/(.*)/)),null===r){if(0!==this.viewfunctions.length){var i,s=this.DOC_STORE;if(o)s=this.CONFIG_STORE,i=this.idb.transaction(s,IDBTransaction.READ_WRITE),putdoc=i.objectStore(s).put(e),putdoc.onsuccess=enyo.bind(this,this.putsuccess,n,""),putdoc.onerror=enyo.bind(this,this.handleerror,n);else{i=this.idb.transaction(s,IDBTransaction.READ_WRITE);var a=i.objectStore(s).get(e._id);a.onsuccess=enyo.bind(this,this.putupdate,n,e,t),a.onerror=enyo.bind(this,this.handleerror,n);for(var u in this.viewfunctions)this.runview(u,this.viewfunctions[u],e)}}}else if(void 0!==e.views){var c=e._id.match(/^_design\/(.*)/),h=[];for(var l in e.views)this.viewfunctions[c[1]+"_"+l]=e.views[l].map,h.push(c[1]+"/"+l),this.runview(c[1]+"/"+l,e.views[l].map);var d=this.idb.version;this.idb.close(),this.idb=!1;var p=indexedDB.open(this.database,d+1);p.onsuccess=enyo.bind(this,this.putview,e,n),p.onerror=enyo.bind(this,this.handleerror,this.dbcallback),p.onupgradeneeded=enyo.bind(this,this.upgradeneededview,h),p.onblocked=function(){}}}else this.preque.push({type:"put",doc:e,options:t,config:o,async:n});return n},putupdate:function(e,t,n,o){var r=o.target.result,i=this.DOC_STORE,s=this.idb.transaction(i,IDBTransaction.READ_WRITE),a={},u=n?n.update_seq:!1;if(r){var c=r._deleted?!0:!1,h=void 0!==r._rev?r._rev[0]:0,l=void 0!==t._rev?t._rev[0]:0,d=l>h;if(d||void 0!==r._localrev||c)if(d||c||r._localrev===t._localrev||parseInt(t._localrev[0],10)>parseInt(r._localrev[0],10)){if(!c){var p;p=d?parseInt(r._localrev[0],10)+1:parseInt(t._localrev[0],10)+1,t._localrev=p+"-"+Math.uuid(32,16).toLowerCase()}t._revhistory=r,u||(t._update_seq=0),a=s.objectStore(i).put(t),a.onsuccess=enyo.bind(this,this.putsuccess,e,t._localrev),a.onerror=enyo.bind(this,this.handleerror,e)}else 0===e.responders.length?e.response(function(){return{error:"conflict",reason:"Document update conflict."}}):e.go({error:"conflict",reason:"Document update conflict."})}else u||(t._update_seq=0),a=s.objectStore(i).put(t),a.onsuccess=enyo.bind(this,this.putsuccess,e,t._localrev),a.onerror=enyo.bind(this,this.handleerror,e)},putsuccess:function(e,t,n){var o=n.target.result;enyo.Signals.send("onCommit",{status:"changed",id:o,sender:"SundayData.put",database:this.databaseName}),0===e.responders.length?e.response(function(){return{ok:!0,id:o,rev:t}}):e.go({ok:!0,id:o,rev:t})},bulkDocs:function(e,t,n){void 0===n&&(n=new enyo.Async);var o=t.update_seq?{update_seq:!0}:{};if(this.idb){var r="bulk"+Math.uuid(32,16).toLowerCase();this.returnarray[r]=[];var i=e.length;putrespfun=function(e,t){t.ok===!0?this.bulkDocsresults(n,i,r,{id:t.id,rev:t.rev}):this.bulkDocsresults(n,i,r,t)},removerespfun=function(e,t){t.ok===!0?this.bulkDocsresults(n,i,r,{id:t.id,rev:t.rev,_deleted:!0}):this.bulkDocsresults(n,i,r,t)};for(var s=0;i>s;s++){var a=e[s];if(void 0===a._deleted){var u=this.put(a,o);u.response(this,putrespfun)}else{var c=this.remove(a._id,a._localrev);c.response(this,removerespfun)}}}else this.preque.push({type:"builkDocs",docs:e,async:n});return n},bulkDocsresults:function(e,t,n,o){if(this.returnarray[n].push(o),this.returnarray[n].length===t){var r=this.returnarray[n];delete this.returnarray[n],0===e.responders.length?e.response(this,function(){return r}):e.go(r)}},get:function(e,t,n){if(void 0===t&&(t=new enyo.Async),this.idb){var o=this.DOC_STORE;n&&(o=this.CONFIG_STORE);var r=this.idb.transaction(o,IDBTransaction.READ),i=r.objectStore(o).get(e);i.onsuccess=enyo.bind(this,this.getsuccess,t),i.onerror=enyo.bind(this,this.handleerror,t)}else this.preque.push({type:"get",docid:e,config:n,async:t});return t},getsuccess:function(e,t){var n=t.target.result;if(void 0!==n){if(void 0!==n._revhistory){delete n._revhistory;var o=/^_view_.*/;for(var r in n)null!==r.match(o)&&delete n[r]}n._deleted?0===e.responders.length?e.response(function(){return{error:"Not Found",reason:"Deleted"}}):e.go({error:"Not Found",reason:"Deleted"}):0===e.responders.length?e.response(function(){return n}):e.go(n)}else 0===e.responders.length?e.response(function(){return{error:"Not Found"}}):e.go({error:"Not Found"})},allDocs:function(e,t,n){if(void 0===t&&(t=new enyo.Async),this.idb){var o="all"+Math.uuid(32,16).toLowerCase();this.returnarray[o]=[];var r=this.DOC_STORE;n&&(r=this.CONFIG_STORE);var i=this.idb.transaction(r,IDBTransaction.READ),s=i.objectStore(r).openCursor();s.onsuccess=enyo.bind(this,this.allDocssuccess,t,o,e),s.onerror=enyo.bind(this,this.handleerror,t)}else this.preque.push({type:"allDocs",options:e,config:n,async:t});return t},allDocssuccess:function(e,t,n,o){var r=o.target.result;if(r){var i={key:r.key,id:r.primaryKey,value:{rev:r.value._localrev},doc:r.value};if(void 0===i.doc._deleted){delete i.doc._revhistory;var s=/^_view_.*/;for(var a in i.doc)null!==a.match(s)&&delete i.doc[a];void 0!==n&&!n.include_docs&&delete i.doc,this.returnarray[t].push(i)}r["continue"]()}else{var u={total_rows:this.returnarray[t].length,rows:this.returnarray[t]};delete this.returnarray[t],0===e.responders.length?e.response(this,function(){return u}):e.go(u)}},changes:function(e,t){if(void 0===t&&(t=new enyo.Async),this.idb){var n="changes"+Math.uuid(32,16).toLowerCase();this.returnarray[n]=[];var o=this.idb.transaction(this.DOC_STORE,IDBTransaction.READ),r=o.objectStore(this.DOC_STORE),i=r.index("changes").openCursor();i.onsuccess=enyo.bind(this,this.changessuccess,t,n),i.onerror=enyo.bind(this,this.handleerror,t)}else this.preque.push({type:"query",fun:fun,options:e,async:t});return t},changessuccess:function(e,t,n){var o=n.target.result;if(o){if(null!==o.key&&0===o.value._update_seq){var r={id:o.primaryKey,changes:[{rev:o.value._localrev}],doc:o.value};delete r.doc._revhistory;var i=/^_view_.*/;for(var s in r.doc)null!==s.match(i)&&delete r.doc[s];this.returnarray[t].push(r)}o["continue"]()}else{var a={results:this.returnarray[t]};delete this.returnarray[t],0===e.responders.length?e.response(this,function(){return a}):e.go(a)}},query:function(e,t,n){if(void 0===n&&(n=new enyo.Async),this.idb){var o="query"+Math.uuid(32,16).toLowerCase();this.returnarray[o]=[];var r=this.idb.transaction(this.DOC_STORE,IDBTransaction.READ),i=r.objectStore(this.DOC_STORE),s=i.index(e.replace("/","_")).openCursor();s.onsuccess=enyo.bind(this,this.querysuccess,n,o,e),s.onerror=enyo.bind(this,this.handleerror,n)}else this.preque.push({type:"query",fun:e,options:t,async:n});return n},querysuccess:function(e,t,n,o){var r=o.target.result;if(r){if(null!==r.key||null!==r.value["_view_"+n.replace("/","_")+"_value"]){var i={key:r.key,id:r.primaryKey,value:r.value["_view_"+n.replace("/","_")+"_value"]};if(void 0===i.value._deleted){delete i.value._revhistory;var s=/^_view_.*/;for(var a in i.value)null!==a.match(s)&&delete i.value[a];this.returnarray[t].push(i)}}r["continue"]()}else{var u={total_rows:this.returnarray[t].length,rows:this.returnarray[t]};delete this.returnarray[t],0===e.responders.length?e.response(this,function(){return u}):e.go(u)}},remove:function(e,t,n,o){if(void 0===n&&(n=new enyo.Async),this.idb){var r=this.DOC_STORE;o&&(r=this.CONFIG_STORE);var i=this.idb.transaction(r,IDBTransaction.READ_WRITE),s=i.objectStore(r).get(e);s.onsuccess=enyo.bind(this,this.removeget,n,t,o),s.onerror=enyo.bind(this,this.handleerror,n)}else this.preque.push({type:"remove",docid:e,localrev:t,config:o,async:n});return n},removeget:function(e,t,n,o){var r=o.target.result,i=this.DOC_STORE;if(n&&(i=this.CONFIG_STORE),t===r._localrev){doc={_deleted:!0},doc._id=r._id,doc._localrev=r._localrev,doc._revhistory=r;var s=this.idb.transaction(i,IDBTransaction.READ_WRITE),a=s.objectStore(i).put(doc);a.onsuccess=enyo.bind(this,this.removesuccess,e,doc._id,doc._localrev),a.onerror=enyo.bind(this,this.handleerror,e)}},removesuccess:function(e,t,n){0===e.responders.length?e.response(function(){return{ok:!0,id:t,localrev:n}}):e.go({ok:!0,id:t,localrev:n})},replicate:function(e,t){var n=new e.async,o=new e.async,r=new this.async,i=new this.async,s=this;n.response(function(e,n){var o=[],r=n.update_seq;void 0!==r&&s.put({config:"update_seq",value:r},void 0,void 0,!0);for(var i in n.rows)delete n.rows[i].doc._localrev,void 0!==r&&(n.rows[i].doc._update_seq=r),o.push(n.rows[i].doc);n.total_rows>0?s.bulkDocs(o,{update_seq:!0},t):t.go({})}),o.response(function(e,n){var o=[],r=n.last_seq;void 0!==r&&s.put({config:"update_seq",value:r},void 0,void 0,!0);for(var a in n.results)delete n.results[a].doc._localrev,void 0!==r&&(n.results[a].doc._update_seq=r),o.push(n.results[a].doc);o.length>0?s.bulkDocs(o,{update_seq:!0},t):i.go({})}),r.response(function(t,r){void 0!==r.value?e.changes(r.value,o):e.allDocs({include_docs:!0,update_seq:!0},n)}),this.get("update_seq",r,!0)}}),enyo.kind({name:"SundayDataHTTP",kind:"DataLayout",published:{database:"",host:"",dbcallback:{},username:"",password:""},async:enyo.Ajax,components:[{kind:"Signals",onCommit:"commit"}],returnarray:{},authHeader:function(){var e="Basic "+binb2b64(str2binb(this.username+":"+this.password));return e},commit:function(e,t){t.dispatchTarget},handleerror:function(e,t){0===e.responders.length?e.response(function(){return{ok:!1,error:{status:500,error:t.type,reason:t.target}}}):e.go({ok:!1,error:{status:500,error:t.type,reason:t.target}})},constructor:function(){this.inherited(arguments),this.start()},start:function(e,t,n,o){void 0===e&&void 0===t&&void 0!==this.container&&(this.host=this.container.host,this.database=this.container.database,this.username=this.container.username,this.password=this.container.password),"string"==typeof t&&t&&(this.database=t),"string"==typeof e&&e&&(this.host=e),"string"==typeof n&&n&&(this.username=n),"string"==typeof o&&o&&(this.password=o),this.dbcallback=new enyo.Ajax({url:this.host+"/"+this.database+"/",method:"PUT",contentType:"application/json",cacheBust:!1}),""!==this.username&&""!==this.password&&(this.dbcallback.headers={Authorization:this.authHeader()}),this.dbcallback.go()},removeDB:function(e){return void 0===e&&(e=new enyo.Ajax),e.url=this.host+"/"+this.database+"/",e.cacheBust=!1,e.method="DELETE",""!==this.username&&""!==this.password&&(e.headers={Authorization:this.authHeader()}),e.go(),e},put:function(e,t,n){return void 0===n&&(n=new enyo.Ajax),n.contentType="application/json",n.cacheBust=!1,n.url=this.host+"/"+this.database+"/",n.method="POST",n.postBody=JSON.stringify(e),""!==this.username&&""!==this.password&&(n.headers={Authorization:this.authHeader()}),n.go(),n},bulkDocs:function(e,t,n){void 0===n&&(n=new enyo.Ajax),n.url=this.host+"/"+this.database+"/_bulk_docs",n.method="POST",n.contentType="application/json",n.cacheBust=!1;var o=enyo.mixin({docs:e},t);return n.postBody=JSON.stringify(o),""!==this.username&&""!==this.password&&(n.headers={Authorization:this.authHeader()}),n.go(),n},get:function(e,t){return void 0===t&&(t=new enyo.Ajax),t.url=this.host+"/"+this.database+"/"+e,t.method="GET",t.cacheBust=!1,""!==this.username&&""!==this.password&&(t.headers={Authorization:this.authHeader()}),t.go(),t},allDocs:function(e,t){return void 0===t&&(t=new enyo.Ajax),t.url=this.host+"/"+this.database+"/_all_docs",t.method="GET",t.contentType="application/json",t.cacheBust=!1,""!==this.username&&""!==this.password&&(t.headers={Authorization:this.authHeader()}),t.go(e),t},query:function(e,t,n){var o,r;if("string"==typeof e){var i=e.split("/");o=i[0],r=i[1]}return void 0===n&&(n=new enyo.Ajax),n.url=this.host+"/"+this.database+"/_design/"+o+"/_view/"+r,n.method="GET",n.contentType="application/json",n.cacheBust=!1,""!==this.username&&""!==this.password&&(n.headers={Authorization:this.authHeader()}),n.go(JSON.stringify(t)),n},remove:function(e,t,n){return void 0===n&&(n=new enyo.Ajax),n.url=this.host+"/"+this.database+"/"+e+"?rev="+t,n.method="DELETE",n.cacheBust=!1,""!==this.username&&""!==this.password&&(n.headers={Authorization:this.authHeader()}),n.go(),n},changes:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=new enyo.Ajax),t.url=this.host+"/"+this.database+"/_changes?include_docs=true&since="+e,t.method="GET",t.cacheBust=!1,""!==this.username&&""!==this.password&&(t.headers={Authorization:this.authHeader()}),t.go(),t},replicate:function(e,t){var n=new e.async,o=new this.async,r=this,i=[];o.response(function(n,o){if(i.length>0){var r=[];for(var s in o){var a=o[s],u=i[s];a.ok&&(u._rev=a.rev),r.push(u)}e.bulkDocs(i,{update_seq:!0},t)}else t.go(o)}),n.response(function(e,n){var s=[];for(var a in n.results){var u=n.results[a].doc;i.push(u),delete u._localrev,delete u._update_seq,s.push(u)}s.length>0?r.bulkDocs(s,{},o):t.go({})}),e.changes({},n)}}),enyo.kind({name:"SundayData",kind:"enyo.Component",published:{dataStore:"",url:"",database:"",username:"",password:"",host:""},data:null,idbcheck:/idb\:\/\/([\w\-]+)\/?/,httpcheck:/((https?\:\/\/)?(\w*\:\w*@)?[\w\.]*\:?\d*)\/([\w\-]+)/,constructor:function(e){this.inherited(arguments),void 0!==e&&"string"==typeof e&&this.setUrl(e)},setUrl:function(e){if("string"==typeof e){var t=e.match(this.idbcheck);if(null!==t)""!==t[1]&&(this.setDatabase(t[1]),this.setDataStore("SundayDataIDB"));else{var n=e.match(this.httpcheck);null!==n&&""!==n[1]&&""!==n[4]&&(void 0!==n[3]&&(usernamepassword=n[3],usernamepassword=usernamepassword.replace(/@$/,"").split(":"),this.setUsername(usernamepassword[0]),this.setPassword(usernamepassword[1])),this.setHost(n[1].replace(n[3],"")),this.setDatabase(n[4]),this.setDataStore("SundayDataHTTP"))}}},dataStoreChanged:function(){this.data&&this.data.destroy(),this.data=""!==this.host?enyo.createFromKind(this.dataStore,this):enyo.createFromKind(this.dataStore,this),this.generated&&this.render()},removeDB:function(e){if(this.data){void 0===e&&(e=new this.data.async);var t=new SundayDataReturn;return t.parent=this,e.error(function(e,t){var n={error:"Unknown",reason:t};return this.recover(),n}),e.response(function(e,n){t.parent.data.destroy(),t.parent.dataStore="",t.parent.url="",t.parent.database="",t.parent.username="",t.parent.password="",t.parent.host="",t.setValue(n)}),this.data.removeDB(e),t}},put:function(e,t,n){if(this.data){void 0===n&&(n=new this.data.async);var o=new SundayDataReturn;return o.parent=this,n.error(function(e,t){var n={error:"Unknown",reason:t};return this.recover(),n}),n.response(function(e,t){o.setValue(t)}),this.data.put(e,t,n),o}},get:function(e,t,n){if(this.data){void 0===n&&(n=new this.data.async);var o=new SundayDataReturn;return o.parent=this,n.error(function(e,t){var n={error:"Unknown",reason:t};return 404===t&&(n={error:"Not Found",reason:t}),this.recover(),n}),n.response(function(e,t){o.setValue(t)}),this.data.get(e,n),o}},allDocs:function(e,t){if(this.data){void 0===t&&(t=new this.data.async);var n=new SundayDataReturn;return n.parent=this,t.error(function(e,t){var n={error:"Unknown",reason:t};return this.recover(),n}),t.response(function(e,t){n.setValue(t)}),this.data.allDocs(e,t),n}},bulkDocs:function(e,t,n){if(this.data){void 0===n&&(n=new this.data.async);var o=new SundayDataReturn;return o.parent=this,n.error(function(e,t){var n={error:"Unknown",reason:t};return this.recover(),n}),n.response(function(e,t){o.setValue(t)}),this.data.bulkDocs(e,t,n),o}},remove:function(e,t,n){if(this.data){void 0===n&&(n=new this.data.async);var o=new SundayDataReturn;return o.parent=this,n.error(function(e,t){var n={error:"Unknown",reason:t};return 404===t?n={error:"Not Found",reason:t}:409===t&&(n={error:"Conflict",reason:t}),this.recover(),n}),n.response(function(e,t){o.setValue(t)}),this.data.remove(e,t,n),o}},query:function(e,t,n){if(this.data){void 0===n&&(n=new this.data.async);var o=new SundayDataReturn;return o.parent=this,n.error(function(e,t){var n={error:"Unknown",reason:t};return this.recover(),n}),n.response(function(e,t){o.setValue(t)}),this.data.query(e,t,n),o}},replicate:function(e,t){if(this.data){void 0===t&&(t=new this.data.async);var n=new SundayDataReturn;n.parent=this,t.error(function(e,t){var n={error:"Unknown",reason:t};return this.recover(),n}),t.response(function(e,t){n.setValue(t)});var o,r={},i=new enyo.Async;if("object"!=typeof e){var s=e.match(this.idbcheck);if(null!==s)""!==s[1]&&(r.database=s[1],r.dataStore="SundayDataIDB");else{var a=e.match(this.httpcheck);null!==a&&""!==a[1]&&""!==a[4]&&(r.dataStore="SundayDataHTTP",r.host=a[1].replace(a[3],""),r.database=a[4],void 0!==a[3]&&(usernamepassword=a[3],usernamepassword=usernamepassword.replace(/@$/,"").split(":"),r.username=usernamepassword[0],r.password=usernamepassword[1]))}o=enyo.createFromKind(r.dataStore,r)}else o=e.data;var u=this.data;return"SundayDataIDB"===this.dataStore?(i.response(function(){o.replicate(u,t)}),u.replicate(o,i)):(i.response(function(){u.replicate(o,t)}),o.replicate(u,i)),n}}}),enyo.createFromKind=function(e,t){var n=e&&enyo.constructorForKind(e);return n?new n(t):void 0};var SundayDataReturn=function(){this.resultStack=[],this.value=null,this.parent=null,this.setValue=function(e){this.value=e,this._results(e)},this.done=function(e){if(void 0===e&&(e=function(e){return console.log("value:",e),e}),null===this.value)this.resultStack.push(e);else{var t=e(this.value);void 0!==t?this.setValue(t):this.setValue(this.value)}return this},this._results=function(e){if(this.resultStack.length>0){var t=this.resultStack.shift(),n=t(e);null!==n&&(void 0!==n?this.setValue(n):this.setValue(this.value))}},this.get=function(e,t){var n=this;if(null!==this.value&&0===this.resultStack.length)return void 0===e&&(e=void 0===this.value.id?this.value._id:this.value.id),void 0!==e?(this.parent.get(this.value,t).done(function(e){n.setValue(e)}),null):this;var o=function(t){if(void 0!==t||void 0!==e){var o;o=void 0===e?void 0===t.id?t._id:t.id:e,void 0!==o?n.parent.get(o).done(function(e){n.setValue(e)}):n.setValue(t)}return null};return this.resultStack.push(o),this},this.put=function(e,t){var n=this;if(null!==this.value&&0===this.resultStack.length)return void 0===e&&(this.value=e),id=void 0===this.value.id?this.value._id:this.value.id,void 0!==id?(this.parent.put(this.value,t).done(function(e){n.setValue(e)}),null):this;var o=function(o){if(void 0!==e&&(o=e),void 0!==o){var r=void 0===o.id?o._id:o.id;void 0!==r?n.parent.put(o,t).done(function(e){n.setValue(e)}):n.setValue(o)}return null};return this.resultStack.push(o),this},this.removeDB=function(){var e=this,t=function(t){return void 0!==t?(e.parent.removeDB().done(function(t){e.setValue(t)}),null):void 0};return this.resultStack.push(t),this},this.bulkDocs=function(e,t){if(void 0===e){var n=this,o=function(e){return void 0!==e&&e instanceof Array?n.parent.bulkDocs(e,t).done(function(e){n.setValue(e)}):n.setValue(e),null};return this.resultStack.push(o),this}return this.parent.bulkDocs(e,t)},this.allDocs=function(e){var t=this,n=function(){return t.parent.allDocs(e).done(function(e){t.setValue(e)}),null};return this.resultStack.push(n),this},this.remove=function(e,t){if(void 0===e){if(null!==this.value)return e=void 0===this.value.id?this.value._id:this.value.id,t=void 0===this.value.rev?this.value._rev:this.value.rev,void 0!==e?this.parent.remove(e,t):this;var n=this,o=function(e){if(void 0!==e){var t=void 0===e.id?e._id:e.id,o=void 0===e.rev?e._rev:e.rev;void 0!==t?n.parent.remove(t,o).done(function(e){n.setValue(e)}):n.setValue(e)}return null};return this.resultStack.push(o),this}return this.parent.remove(e,t)},this.query=function(e,t){var n=this,o=function(){return n.parent.query(e,t).done(function(e){n.setValue(e)}),null};return this.resultStack.push(o),this},this.replicate=function(e){var t=this,n=function(){return t.parent.replicate(e).done(function(e){t.setValue(e)}),null};return this.resultStack.push(n),this}};